{% extends 'base.html' %}
{% load i18n static %}

{% block title %}{% trans "Learning Style Results" %}{% endblock %}

{% block content %}
<!-- BREADCRUMB -->
<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb" class="mb-3">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">{% trans 'Home' %}</a></li>
        <li class="breadcrumb-item"><a href="{% url 'learning_methods:learning' %}">{% trans 'Learning Methods' %}</a></li>
        <li class="breadcrumb-item active" aria-current="page">{% trans 'Results' %}</li>
    </ol>
</nav>

<div class="container-fluid" style="background-color: #2c4065; min-height: 100vh;">
    <div class="row justify-content-center" style="padding: 40px 0;">
        <div class="col-12 col-md-10">
            <div class="card shadow-lg border-0 text-light" style="background-color: #2b3458;">
                <div class="card-body p-5">
                    <h2 class="card-title text-info mb-4">
                        <i class="bi bi-graph-up"></i> 
                        {% trans "Learning Style Results" %}
                    </h2>

                    <!-- Percentages Display -->
                    <div class="row mb-5">
                        {% if group_count == '4' %}
                            <!-- Original 4 groups display -->
                            <div class="col-md-3">
                                <div class="text-center mb-4 {% if 'V' in dominant_styles %}border border-warning rounded p-3{% endif %}">
                                    <h4 class="text-warning">Visual (V)</h4>
                                    <h2 class="display-4">{{ percentages.V|floatformat:1 }}%</h2>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="text-center mb-4 {% if 'A' in dominant_styles %}border border-warning rounded p-3{% endif %}">
                                    <h4 class="text-warning">Aural (A)</h4>
                                    <h2 class="display-4">{{ percentages.A|floatformat:1 }}%</h2>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="text-center mb-4 {% if 'R' in dominant_styles %}border border-warning rounded p-3{% endif %}">
                                    <h4 class="text-warning">Read/Write (R)</h4>
                                    <h2 class="display-4">{{ percentages.R|floatformat:1 }}%</h2>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="text-center mb-4 {% if 'K' in dominant_styles %}border border-warning rounded p-3{% endif %}">
                                    <h4 class="text-warning">Kinesthetic (K)</h4>
                                    <h2 class="display-4">{{ percentages.K|floatformat:1 }}%</h2>
                                </div>
                            </div>
                        {% else %}
                            <!-- Combined groups display -->
                            {% if group_count == '2' or group_count == '3' %}
                                <div class="col-md-{% if group_count == '2' %}6{% else %}4{% endif %}">
                                    <div class="text-center mb-4 {% if 'VA' in dominant_styles %}border border-warning rounded p-3{% endif %}">
                                        <h4 class="text-warning">Visual-Aural (VA)</h4>
                                        <h2 class="display-4">{{ combined_groups.VA|floatformat:1 }}%</h2>
                                        <div class="small text-muted mt-2">
                                            V: {{ percentages.V|floatformat:1 }}% | A: {{ percentages.A|floatformat:1 }}%
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-{% if group_count == '2' %}6{% else %}4{% endif %}">
                                    <div class="text-center mb-4 {% if 'RK' in dominant_styles %}border border-warning rounded p-3{% endif %}">
                                        <h4 class="text-warning">Read/Write-Kinesthetic (RK)</h4>
                                        <h2 class="display-4">{{ combined_groups.RK|floatformat:1 }}%</h2>
                                        <div class="small text-muted mt-2">
                                            R: {{ percentages.R|floatformat:1 }}% | K: {{ percentages.K|floatformat:1 }}%
                                        </div>
                                    </div>
                                </div>
                                {% if group_count == '3' and 'S' in combined_groups %}
                                    <div class="col-md-4">
                                        <div class="text-center mb-4 {% if 'S' in dominant_styles %}border border-warning rounded p-3{% endif %}">
                                            <h4 class="text-warning">Special Class (S)</h4>
                                            <h2 class="display-4">{{ combined_groups.S|floatformat:1 }}%</h2>
                                            <div class="small text-muted mt-2">
                                                Balanced across all styles
                                            </div>
                                        </div>
                                    </div>
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    </div>

                    <!-- Dominant Style Details -->
                    <div class="mt-4">
                        <h3 class="text-warning mb-4">{% trans "Your Dominant Learning Style(s)" %}</h3>
                        {% for style in dominant_styles %}
                            <div class="mb-5">
                                {% if style == 'V' %}
                                    <h4 class="text-info">Visual (V)</h4>
                                    <h5 class="text-warning mt-4">Features:</h5>
                                    <ul class="text-light">
                                        <li class="mb-2">Prefers diagrams, charts, maps, graphs, and flowcharts.</li>
                                        <li class="mb-2">Uses colors and symbols for organization.</li>
                                        <li class="mb-2">Likes spatial and geometric representations of information.</li>
                                        <li class="mb-2">Benefits from mind maps, infographics, and videos with visual elements.</li>
                                        <li class="mb-2">Learns better through observing patterns and relationships.</li>
                                        <li class="mb-2">Struggles with dense blocks of text without visuals.</li>
                                    </ul>
                                {% elif style == 'A' %}
                                    <h4 class="text-info">Aural (A)</h4>
                                    <h5 class="text-warning mt-4">Features:</h5>
                                    <ul class="text-light">
                                        <li class="mb-2">Prefers listening to spoken information (lectures, discussions, audio recordings).</li>
                                        <li class="mb-2">Enjoys group discussions or debates to clarify concepts.</li>
                                        <li class="mb-2">Learns well by repeating ideas aloud or discussing them with others.</li>
                                        <li class="mb-2">Can recall information from tone, rhythm, or voice inflections.</li>
                                        <li class="mb-2">May prefer reading text aloud or using mnemonic devices.</li>
                                    </ul>
                                {% elif style == 'R' %}
                                    <h4 class="text-info">Read/Write (R)</h4>
                                    <h5 class="text-warning mt-4">Features:</h5>
                                    <ul class="text-light">
                                        <li class="mb-2">Prefers absorbing information through reading and creating text-based materials.</li>
                                        <li class="mb-2">Takes detailed written notes during lectures.</li>
                                        <li class="mb-2">Learns effectively by writing summaries, essays, or lists.</li>
                                        <li class="mb-2">Enjoys reading and referencing books, articles, or printed materials.</li>
                                        <li class="mb-2">Struggles with unstructured or overly visual content.</li>
                                    </ul>
                                {% elif style == 'K' %}
                                    <h4 class="text-info">Kinesthetic (K)</h4>
                                    <h5 class="text-warning mt-4">Features:</h5>
                                    <ul class="text-light">
                                        <li class="mb-2">Prefers hands-on learning through direct experience and practice.</li>
                                        <li class="mb-2">Thrives on real-world examples, demonstrations, and simulations.</li>
                                        <li class="mb-2">Learns better by "doing" rather than observing or listening.</li>
                                        <li class="mb-2">Engages well in lab work, role-playing, or physical activities.</li>
                                        <li class="mb-2">Finds it easier to remember information connected to actions or physical sensations.</li>
                                    </ul>
                                {% elif style == 'VA' %}
                                    <h4 class="text-info">Visual-Aural (VA)</h4>
                                    <h5 class="text-warning mt-4">Features:</h5>
                                    <ul class="text-light">
                                        <li class="mb-2">Strong preference for both visual and auditory learning methods.</li>
                                        <li class="mb-2">Benefits from multimedia presentations combining visuals with spoken explanations.</li>
                                        <li class="mb-2">Learns well through video content with narration.</li>
                                        <li class="mb-2">Enjoys visual demonstrations with verbal explanations.</li>
                                        <li class="mb-2">Effective at combining visual note-taking with verbal discussions.</li>
                                    </ul>
                                {% elif style == 'RK' %}
                                    <h4 class="text-info">Read/Write-Kinesthetic (RK)</h4>
                                    <h5 class="text-warning mt-4">Features:</h5>
                                    <ul class="text-light">
                                        <li class="mb-2">Combines text-based learning with hands-on experience.</li>
                                        <li class="mb-2">Learns best through practical exercises with written instructions.</li>
                                        <li class="mb-2">Benefits from documenting experiences and experiments.</li>
                                        <li class="mb-2">Enjoys interactive learning with written components.</li>
                                        <li class="mb-2">Effective at applying theoretical knowledge to practical situations.</li>
                                    </ul>
                                {% elif style == 'S' %}
                                    <h4 class="text-info">Special Class (S)</h4>
                                    <h5 class="text-warning mt-4">Features:</h5>
                                    <ul class="text-light">
                                        <li class="mb-2">Shows balanced aptitude across all learning styles.</li>
                                        <li class="mb-2">Adapts well to different teaching methods and environments.</li>
                                        <li class="mb-2">Can effectively utilize multiple learning strategies.</li>
                                        <li class="mb-2">Benefits from varied and mixed learning approaches.</li>
                                        <li class="mb-2">Versatile learner who can engage with content in multiple ways.</li>
                                    </ul>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>

                    <div class="text-center mt-4">
                        <a href="{% url 'learning_methods:learning' %}?student={{ student_id }}&group_count={{ group_count }}" class="btn btn-primary">
                            <i class="fas fa-arrow-left"></i> {% trans "Back to Learning Methods" %}
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
