# Learning style questions
QUESTIONS = [
    {
        'text': "I need to find a shop my friend told me about. I would:",
        'options': [
            {'value': 'a', 'text': 'figure out where the shop is compared to a place I know.'},
            {'value': 'b', 'text': 'ask my friend how to get there.'},
            {'value': 'c', 'text': 'write down the directions.'},
            {'value': 'd', 'text': 'use a map.'},
        ]
    },
    {
        'text': "A website has a video about making a special chart. It shows someone talking, lists, and pictures. I would learn best by:",
        'options': [
            {'value': 'a', 'text': 'looking at the pictures.'},
            {'value': 'b', 'text': 'listening to the speaker.'},
            {'value': 'c', 'text': 'reading the lists.'},
            {'value': 'd', 'text': 'watching the actions.'},
        ]
    },
    {
        'text': "I want to know more about a tour. I would:",
        'options': [
            {'value': 'a', 'text': 'look at the main activities and highlights.'},
            {'value': 'b', 'text': 'check a map to see where the places are.'},
            {'value': 'c', 'text': 'read the itinerary.'},
            {'value': 'd', 'text': 'talk to the planner or others going on the tour.'},
        ]
    },
    {
        'text': "When choosing a career or subject to study, I care about:",
        'options': [
            {'value': 'a', 'text': 'using my knowledge in real-life situations.'},
            {'value': 'b', 'text': 'discussing ideas with others.'},
            {'value': 'c', 'text': 'working with maps or designs.'},
            {'value': 'd', 'text': 'writing well.'},
        ]
    },
    {
        'text': "When learning, I:",
        'options': [
            {'value': 'a', 'text': 'like talking about the topic.'},
            {'value': 'b', 'text': 'notice patterns.'},
            {'value': 'c', 'text': 'learn through examples.'},
            {'value': 'd', 'text': 'read books or handouts.'},
        ]
    },
    {
        'text': "I want to save money and compare options. I would:",
        'options': [
            {'value': 'a', 'text': 'use examples with my financial info.'},
            {'value': 'b', 'text': 'read a detailed brochure.'},
            {'value': 'c', 'text': 'look at graphs showing the options.'},
            {'value': 'd', 'text': 'talk to an expert.'},
        ]
    },
    {
        'text': "I want to learn a new board or card game. I would:",
        'options': [
            {'value': 'a', 'text': 'watch others play first.'},
            {'value': 'b', 'text': 'listen to someone explain and ask questions.'},
            {'value': 'c', 'text': 'use diagrams that explain the steps.'},
            {'value': 'd', 'text': 'read the instructions.'},
        ]
    },
    {
        'text': "I have a heart problem. I want the doctor to:",
        'options': [
            {'value': 'a', 'text': 'give me something to read about it.'},
            {'value': 'b', 'text': 'use a model to show me what’s wrong.'},
            {'value': 'c', 'text': 'explain it to me.'},
            {'value': 'd', 'text': 'show me a diagram of what’s wrong.'},
        ]
    },
    {
        'text': "I want to learn something new on a computer. I would:",
        'options': [
            {'value': 'a', 'text': 'read the instructions.'},
            {'value': 'b', 'text': 'talk to someone who knows about it.'},
            {'value': 'c', 'text': 'try it and figure it out by myself.'},
            {'value': 'd', 'text': 'follow diagrams in a book.'},
        ]
    },
    {
        'text': "When learning online, I like:",
        'options': [
            {'value': 'a', 'text': 'videos showing how to do things.'},
            {'value': 'b', 'text': 'cool designs and visuals.'},
            {'value': 'c', 'text': 'clear written instructions and explanations.'},
            {'value': 'd', 'text': 'audio like podcasts or interviews.'},
        ]
    },
    {
        'text': "I want to learn about a new project. I would ask for:",
        'options': [
            {'value': 'a', 'text': 'diagrams and charts showing stages and costs.'},
            {'value': 'b', 'text': 'a written report.'},
            {'value': 'c', 'text': 'a discussion about it.'},
            {'value': 'd', 'text': 'examples of where it has worked.'},
        ]
    },
    {
        'text': "I want to take better photos. I would:",
        'options': [
            {'value': 'a', 'text': 'ask questions and talk about cameras.'},
            {'value': 'b', 'text': 'read the instructions.'},
            {'value': 'c', 'text': 'look at diagrams of the camera.'},
            {'value': 'd', 'text': 'use examples of good and bad photos to learn.'},
        ]
    },
    {
        'text': "I prefer a teacher who uses:",
        'options': [
            {'value': 'a', 'text': 'hands-on activities or models.'},
            {'value': 'b', 'text': 'discussions and guest speakers.'},
            {'value': 'c', 'text': 'handouts or readings.'},
            {'value': 'd', 'text': 'diagrams, charts, or graphs.'},
        ]
    },
    {
        'text': "I finished a test and want feedback. I prefer:",
        'options': [
            {'value': 'a', 'text': 'examples of what I did.'},
            {'value': 'b', 'text': 'a written explanation.'},
            {'value': 'c', 'text': 'talking with someone about it.'},
            {'value': 'd', 'text': 'graphs showing my results.'},
        ]
    },
    {
        'text': "I want to know about a house or apartment. Before visiting, I would want:",
        'options': [
            {'value': 'a', 'text': 'a video of the property.'},
            {'value': 'b', 'text': 'to talk to the owner.'},
            {'value': 'c', 'text': 'a written description of the rooms.'},
            {'value': 'd', 'text': 'a floor plan and map.'},
        ]
    },
    {
        'text': "I want to put together a wooden table from parts. I would learn best by:",
        'options': [
            {'value': 'a', 'text': 'looking at diagrams for each step.'},
            {'value': 'b', 'text': 'asking someone who has done it.'},
            {'value': 'c', 'text': 'reading the instructions.'},
            {'value': 'd', 'text': 'watching a video of someone assembling it.'},
        ]
    },
]




SCORING_CHART = [
    {"a": "K", "b": "A", "c": "R", "d": "V"},
    {"a": "V", "b": "A", "c": "R", "d": "K"},
    {"a": "K", "b": "V", "c": "R", "d": "A"},
    {"a": "K", "b": "A", "c": "V", "d": "R"},
    {"a": "A", "b": "V", "c": "K", "d": "R"},
    {"a": "K", "b": "R", "c": "V", "d": "A"},
    {"a": "K", "b": "A", "c": "V", "d": "R"},
    {"a": "R", "b": "K", "c": "A", "d": "V"},
    {"a": "R", "b": "A", "c": "K", "d": "V"},
    {"a": "K", "b": "V", "c": "R", "d": "A"},
    {"a": "V", "b": "R", "c": "A", "d": "K"},
    {"a": "A", "b": "R", "c": "V", "d": "K"},
    {"a": "K", "b": "A", "c": "R", "d": "V"},
    {"a": "K", "b": "R", "c": "A", "d": "V"},
    {"a": "K", "b": "A", "c": "R", "d": "V"},
    {"a": "V", "b": "A", "c": "R", "d": "K"}
]


QUESTIONS_AR = [
    {
        'text': "أريد الذهاب إلى متجر أوصى به صديق. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'معرفة موقع المتجر بالنسبة لمكان أعرفه.'},
            {'value': 'b', 'text': 'طلب الاتجاهات من صديقي.'},
            {'value': 'c', 'text': 'كتابة الاتجاهات التي أحتاجها.'},
            {'value': 'd', 'text': 'استخدام خريطة.'},
        ]
    },
    {
        'text': "يوجد فيديو على موقع يشرح كيفية رسم مخطط خاص. الفيديو يحتوي على شخص يتحدث، وبعض القوائم والكلمات، ورسومات. سأتعلم أكثر من:",
        'options': [
            {'value': 'a', 'text': 'رؤية الرسومات.'},
            {'value': 'b', 'text': 'الاستماع.'},
            {'value': 'c', 'text': 'قراءة الكلمات.'},
            {'value': 'd', 'text': 'مشاهدة الخطوات.'},
        ]
    },
    {
        'text': "أريد معرفة المزيد عن رحلة سياحية. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'قراءة تفاصيل الأنشطة والمعالم في الرحلة.'},
            {'value': 'b', 'text': 'استخدام خريطة لتحديد الأماكن.'},
            {'value': 'c', 'text': 'قراءة برنامج الرحلة.'},
            {'value': 'd', 'text': 'التحدث مع الشخص المنظم أو المسافرين الآخرين.'},
        ]
    },
    {
        'text': "عند اختيار وظيفة أو مجال دراسي، يهمني أن:",
        'options': [
            {'value': 'a', 'text': 'أطبق معرفتي في مواقف حقيقية.'},
            {'value': 'b', 'text': 'أتواصل مع الآخرين بالنقاش.'},
            {'value': 'c', 'text': 'أعمل مع التصاميم أو الخرائط.'},
            {'value': 'd', 'text': 'أستخدم الكلمات بفعالية في الكتابة.'},
        ]
    },
    {
        'text': "عندما أتعلم، أحب أن:",
        'options': [
            {'value': 'a', 'text': 'أتحدث عن الأفكار بصوت عالٍ.'},
            {'value': 'b', 'text': 'أرى الأنماط والعلاقات.'},
            {'value': 'c', 'text': 'أستخدم أمثلة وتطبيقات.'},
            {'value': 'd', 'text': 'أقرأ الكتب والمقالات والملاحظات.'},
        ]
    },
    {
        'text': "أريد توفير المال وأقارن بين خيارات مختلفة. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'النظر في أمثلة لكل خيار باستخدام معلوماتي المالية.'},
            {'value': 'b', 'text': 'قراءة كتيب يشرح الخيارات بالتفصيل.'},
            {'value': 'c', 'text': 'استخدام رسوم بيانية توضح الخيارات المختلفة.'},
            {'value': 'd', 'text': 'التحدث مع خبير عن الخيارات.'},
        ]
    },
    {
        'text': "أريد تعلم لعبة لوحية أو ورقية جديدة. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'مشاهدة الآخرين يلعبون قبل أن أشارك.'},
            {'value': 'b', 'text': 'الاستماع لشرح شخصي وأسأل أسئلة.'},
            {'value': 'c', 'text': 'استخدام الرسوم التوضيحية لمراحل اللعبة.'},
            {'value': 'd', 'text': 'قراءة التعليمات.'},
        ]
    },
    {
        'text': "لدي مشكلة في قلبي. أفضل أن يقوم الطبيب بـ:",
        'options': [
            {'value': 'a', 'text': 'إعطائي شيئاً مكتوباً لشرح المشكلة.'},
            {'value': 'b', 'text': 'استخدام نموذج بلاستيكي لشرح المشكلة.'},
            {'value': 'c', 'text': 'شرح المشكلة لي بالكلام.'},
            {'value': 'd', 'text': 'إظهار رسم توضيحي يشرح المشكلة.'},
        ]
    },
    {
        'text': "أريد تعلم شيء جديد على الكمبيوتر. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'قراءة التعليمات المكتوبة.'},
            {'value': 'b', 'text': 'التحدث مع أشخاص لديهم معرفة بالبرنامج.'},
            {'value': 'c', 'text': 'استخدام البرنامج وتجربته بنفسي.'},
            {'value': 'd', 'text': 'متابعة الرسوم في كتاب.'},
        ]
    },
    {
        'text': "عند التعلم عبر الإنترنت، أحب:",
        'options': [
            {'value': 'a', 'text': 'الفيديوهات التي تشرح كيفية فعل أو صنع الأشياء.'},
            {'value': 'b', 'text': 'التصاميم والميزات البصرية.'},
            {'value': 'c', 'text': 'الوصف المكتوب والقوائم والتفسيرات.'},
            {'value': 'd', 'text': 'القنوات الصوتية مثل البودكاست أو المقابلات.'},
        ]
    },
    {
        'text': "أريد معرفة المزيد عن مشروع جديد. سأطلب:",
        'options': [
            {'value': 'a', 'text': 'رسومات توضح مراحل المشروع والتكاليف والفوائد.'},
            {'value': 'b', 'text': 'تقرير مكتوب يصف المشروع.'},
            {'value': 'c', 'text': 'فرصة للنقاش عن المشروع.'},
            {'value': 'd', 'text': 'أمثلة عن مشاريع مشابهة ناجحة.'},
        ]
    },
    {
        'text': "أريد تعلم كيفية التقاط صور أفضل. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'طرح أسئلة والتحدث عن الكاميرا وميزاتها.'},
            {'value': 'b', 'text': 'قراءة التعليمات المكتوبة.'},
            {'value': 'c', 'text': 'استخدام الرسوم التي تشرح الكاميرا وأجزائها.'},
            {'value': 'd', 'text': 'مراجعة أمثلة للصور الجيدة والسيئة لمعرفة التحسينات.'},
        ]
    },
]

def calculate_vark_scores(answers):
    """
    Calculate VARK scores based on answers
    :param answers: dict of question numbers and their answers
    :return: dict of VARK category counts
    """
    category_counts = {"V": 0, "A": 0, "R": 0, "K": 0}
    
    for q_num, answer_string in answers.items():
        # Split the comma-separated answers
        q_answers = answer_string.split(',')
        q_index = int(q_num[1:]) - 1  # Convert q1 to index 0
        
        # Add scores for each selected answer
        for ans in q_answers:
            category = SCORING_CHART[q_index].get(ans)
            if category:
                category_counts[category] += 1
    
    return category_counts
