# Learning style questions
QUESTIONS = [
    {
        'text': "I need to find a shop my friend told me about. I would:",
        'options': [
            {'value': 'a', 'text': 'figure out where the shop is compared to a place I know.'},
            {'value': 'b', 'text': 'ask my friend how to get there.'},
            {'value': 'c', 'text': 'write down the directions.'},
            {'value': 'd', 'text': 'use a map.'},
        ]
    },
    {
        'text': "A website has a video about making a special chart. It shows someone talking, lists, and pictures. I would learn best by:",
        'options': [
            {'value': 'a', 'text': 'looking at the pictures.'},
            {'value': 'b', 'text': 'listening to the speaker.'},
            {'value': 'c', 'text': 'reading the lists.'},
            {'value': 'd', 'text': 'watching the actions.'},
        ]
    },
    {
        'text': "I want to know more about a tour. I would:",
        'options': [
            {'value': 'a', 'text': 'look at the main activities and highlights.'},
            {'value': 'b', 'text': 'check a map to see where the places are.'},
            {'value': 'c', 'text': 'read the itinerary.'},
            {'value': 'd', 'text': 'talk to the planner or others going on the tour.'},
        ]
    },
    {
        'text': "When choosing a career or subject to study, I care about:",
        'options': [
            {'value': 'a', 'text': 'using my knowledge in real-life situations.'},
            {'value': 'b', 'text': 'discussing ideas with others.'},
            {'value': 'c', 'text': 'working with maps or designs.'},
            {'value': 'd', 'text': 'writing well.'},
        ]
    },
    {
        'text': "When learning, I:",
        'options': [
            {'value': 'a', 'text': 'like talking about the topic.'},
            {'value': 'b', 'text': 'notice patterns.'},
            {'value': 'c', 'text': 'learn through examples.'},
            {'value': 'd', 'text': 'read books or handouts.'},
        ]
    },
    {
        'text': "I want to save money and compare options. I would:",
        'options': [
            {'value': 'a', 'text': 'use examples with my financial info.'},
            {'value': 'b', 'text': 'read a detailed brochure.'},
            {'value': 'c', 'text': 'look at graphs showing the options.'},
            {'value': 'd', 'text': 'talk to an expert.'},
        ]
    },
    {
        'text': "I want to learn a new board or card game. I would:",
        'options': [
            {'value': 'a', 'text': 'watch others play first.'},
            {'value': 'b', 'text': 'listen to someone explain and ask questions.'},
            {'value': 'c', 'text': 'use diagrams that explain the steps.'},
            {'value': 'd', 'text': 'read the instructions.'},
        ]
    },
    {
        'text': "I have a heart problem. I want the doctor to:",
        'options': [
            {'value': 'a', 'text': 'give me something to read about it.'},
            {'value': 'b', 'text': 'use a model to show me what’s wrong.'},
            {'value': 'c', 'text': 'explain it to me.'},
            {'value': 'd', 'text': 'show me a diagram of what’s wrong.'},
        ]
    },
    {
        'text': "I want to learn something new on a computer. I would:",
        'options': [
            {'value': 'a', 'text': 'read the instructions.'},
            {'value': 'b', 'text': 'talk to someone who knows about it.'},
            {'value': 'c', 'text': 'try it and figure it out by myself.'},
            {'value': 'd', 'text': 'follow diagrams in a book.'},
        ]
    },
    {
        'text': "When learning online, I like:",
        'options': [
            {'value': 'a', 'text': 'videos showing how to do things.'},
            {'value': 'b', 'text': 'cool designs and visuals.'},
            {'value': 'c', 'text': 'clear written instructions and explanations.'},
            {'value': 'd', 'text': 'audio like podcasts or interviews.'},
        ]
    },
    {
        'text': "I want to learn about a new project. I would ask for:",
        'options': [
            {'value': 'a', 'text': 'diagrams and charts showing stages and costs.'},
            {'value': 'b', 'text': 'a written report.'},
            {'value': 'c', 'text': 'a discussion about it.'},
            {'value': 'd', 'text': 'examples of where it has worked.'},
        ]
    },
    {
        'text': "I want to take better photos. I would:",
        'options': [
            {'value': 'a', 'text': 'ask questions and talk about cameras.'},
            {'value': 'b', 'text': 'read the instructions.'},
            {'value': 'c', 'text': 'look at diagrams of the camera.'},
            {'value': 'd', 'text': 'use examples of good and bad photos to learn.'},
        ]
    },
    {
        'text': "I prefer a teacher who uses:",
        'options': [
            {'value': 'a', 'text': 'hands-on activities or models.'},
            {'value': 'b', 'text': 'discussions and guest speakers.'},
            {'value': 'c', 'text': 'handouts or readings.'},
            {'value': 'd', 'text': 'diagrams, charts, or graphs.'},
        ]
    },
    {
        'text': "I finished a test and want feedback. I prefer:",
        'options': [
            {'value': 'a', 'text': 'examples of what I did.'},
            {'value': 'b', 'text': 'a written explanation.'},
            {'value': 'c', 'text': 'talking with someone about it.'},
            {'value': 'd', 'text': 'graphs showing my results.'},
        ]
    },
    {
        'text': "I want to know about a house or apartment. Before visiting, I would want:",
        'options': [
            {'value': 'a', 'text': 'a video of the property.'},
            {'value': 'b', 'text': 'to talk to the owner.'},
            {'value': 'c', 'text': 'a written description of the rooms.'},
            {'value': 'd', 'text': 'a floor plan and map.'},
        ]
    },
    {
        'text': "I want to put together a wooden table from parts. I would learn best by:",
        'options': [
            {'value': 'a', 'text': 'looking at diagrams for each step.'},
            {'value': 'b', 'text': 'asking someone who has done it.'},
            {'value': 'c', 'text': 'reading the instructions.'},
            {'value': 'd', 'text': 'watching a video of someone assembling it.'},
        ]
    },
]




SCORING_CHART = [
    {"a": "K", "b": "A", "c": "R", "d": "V"},
    {"a": "V", "b": "A", "c": "R", "d": "K"},
    {"a": "K", "b": "V", "c": "R", "d": "A"},
    {"a": "K", "b": "A", "c": "V", "d": "R"},
    {"a": "A", "b": "V", "c": "K", "d": "R"},
    {"a": "K", "b": "R", "c": "V", "d": "A"},
    {"a": "K", "b": "A", "c": "V", "d": "R"},
    {"a": "R", "b": "K", "c": "A", "d": "V"},
    {"a": "R", "b": "A", "c": "K", "d": "V"},
    {"a": "K", "b": "V", "c": "R", "d": "A"},
    {"a": "V", "b": "R", "c": "A", "d": "K"},
    {"a": "A", "b": "R", "c": "V", "d": "K"},
    {"a": "K", "b": "A", "c": "R", "d": "V"},
    {"a": "K", "b": "R", "c": "A", "d": "V"},
    {"a": "K", "b": "A", "c": "R", "d": "V"},
    {"a": "V", "b": "A", "c": "R", "d": "K"}
]


QUESTIONS_AR = [
    {
        'text': "أحتاج إلى العثور على متجر تحدث صديقي عنه. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'تحديد مكان المتجر مقارنة بمكان أعرفه.'},
            {'value': 'b', 'text': 'أسأل صديقي عن كيفية الوصول إلى هناك.'},
            {'value': 'c', 'text': 'أكتب التعليمات.'},
            {'value': 'd', 'text': 'أستخدم خريطة.'},
        ]
    },
    {
        'text': "يوجد في موقع إلكتروني فيديو حول كيفية إنشاء رسم بياني خاص. يظهر شخص يتحدث، قوائم، وصور. سأتعلم أفضل من خلال:",
        'options': [
            {'value': 'a', 'text': 'النظر إلى الصور.'},
            {'value': 'b', 'text': 'الاستماع إلى المتحدث.'},
            {'value': 'c', 'text': 'قراءة القوائم.'},
            {'value': 'd', 'text': 'مراقبة الأفعال.'},
        ]
    },
    {
        'text': "أريد معرفة المزيد عن جولة سياحية. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'مراجعة الأنشطة الرئيسية والمعالم البارزة.'},
            {'value': 'b', 'text': 'الاطلاع على خريطة لمعرفة أماكنها.'},
            {'value': 'c', 'text': 'قراءة خطة الرحلة.'},
            {'value': 'd', 'text': 'التحدث مع المنظم أو الآخرين الذين سيذهبون في الجولة.'},
        ]
    },
    {
        'text': "عند اختيار مهنة أو مادة للدراسة، أهتم بـ:",
        'options': [
            {'value': 'a', 'text': 'استخدام معرفتي في المواقف الحياتية.'},
            {'value': 'b', 'text': 'مناقشة الأفكار مع الآخرين.'},
            {'value': 'c', 'text': 'العمل مع الخرائط أو التصاميم.'},
            {'value': 'd', 'text': 'الكتابة بشكل جيد.'},
        ]
    },
    {
        'text': "عند التعلم، أنا:",
        'options': [
            {'value': 'a', 'text': 'أحب التحدث عن الموضوع.'},
            {'value': 'b', 'text': 'ألاحظ الأنماط.'},
            {'value': 'c', 'text': 'أتعلم من خلال الأمثلة.'},
            {'value': 'd', 'text': 'أقرأ الكتب أو المنشورات.'},
        ]
    },
    {
        'text': "أريد توفير المال ومقارنة الخيارات. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'استخدام أمثلة بمعلوماتي المالية.'},
            {'value': 'b', 'text': 'قراءة كتيب مفصل.'},
            {'value': 'c', 'text': 'النظر في الرسوم البيانية التي توضح الخيارات.'},
            {'value': 'd', 'text': 'التحدث إلى خبير.'},
        ]
    },
    {
        'text': "أريد تعلم لعبة لوحية أو ورق جديدة. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'مراقبة الآخرين وهم يلعبون أولاً.'},
            {'value': 'b', 'text': 'الاستماع إلى شخص يشرح وطرح أسئلة.'},
            {'value': 'c', 'text': 'استخدام الرسوم البيانية التي تشرح الخطوات.'},
            {'value': 'd', 'text': 'قراءة التعليمات.'},
        ]
    },
    {
        'text': "لدي مشكلة في القلب. أريد من الطبيب أن:",
        'options': [
            {'value': 'a', 'text': 'يعطيني شيئًا لقراءته عن المشكلة.'},
            {'value': 'b', 'text': 'يستخدم نموذجًا ليشرح لي ما هو الخطأ.'},
            {'value': 'c', 'text': 'يشرح لي المشكلة.'},
            {'value': 'd', 'text': 'يظهر لي رسمًا بيانيًا لما هو الخطأ.'},
        ]
    },
    {
        'text': "أريد تعلم شيء جديد على الكمبيوتر. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'قراءة التعليمات.'},
            {'value': 'b', 'text': 'التحدث مع شخص يعرف عن الموضوع.'},
            {'value': 'c', 'text': 'محاولة تجربته واكتشافه بنفسي.'},
            {'value': 'd', 'text': 'اتباع الرسوم البيانية في الكتاب.'},
        ]
    },
    {
        'text': "عند التعلم عبر الإنترنت، أحب:",
        'options': [
            {'value': 'a', 'text': 'فيديوهات توضح كيفية القيام بالأشياء.'},
            {'value': 'b', 'text': 'تصاميم جميلة ومرئيات.'},
            {'value': 'c', 'text': 'تعليمات مكتوبة واضحة وشرح مفصل.'},
            {'value': 'd', 'text': 'المحتوى الصوتي مثل البودكاست أو المقابلات.'},
        ]
    },
    {
        'text': "أريد معرفة المزيد عن مشروع جديد. سأطلب:",
        'options': [
            {'value': 'a', 'text': 'رسوم بيانية ومخططات توضح المراحل والتكاليف.'},
            {'value': 'b', 'text': 'تقرير مكتوب.'},
            {'value': 'c', 'text': 'مناقشة حول المشروع.'},
            {'value': 'd', 'text': 'أمثلة على أماكن تم تطبيق المشروع فيها.'},
        ]
    },
    {
        'text': "أريد التقاط صور أفضل. سأقوم بـ:",
        'options': [
            {'value': 'a', 'text': 'طرح أسئلة والتحدث عن الكاميرات.'},
            {'value': 'b', 'text': 'قراءة التعليمات.'},
            {'value': 'c', 'text': 'النظر إلى الرسوم البيانية للكاميرا.'},
            {'value': 'd', 'text': 'استخدام أمثلة للصور الجيدة والسيئة للتعلم.'},
        ]
    },
    {
        'text': "أفضل معلم يستخدم:",
        'options': [
            {'value': 'a', 'text': 'أنشطة عملية أو نماذج.'},
            {'value': 'b', 'text': 'مناقشات ومتحدثين ضيوف.'},
            {'value': 'c', 'text': 'منشورات أو قراءات.'},
            {'value': 'd', 'text': 'رسوم بيانية أو مخططات.'},
        ]
    },
    {
        'text': "أنهيت اختبارًا وأريد تعليقات. أفضل:",
        'options': [
            {'value': 'a', 'text': 'أمثلة على ما فعلته.'},
            {'value': 'b', 'text': 'شرح مكتوب.'},
            {'value': 'c', 'text': 'التحدث مع شخص حول الاختبار.'},
            {'value': 'd', 'text': 'رسوم بيانية توضح نتائجي.'},
        ]
    },
    {
        'text': "أريد معرفة المزيد عن منزل أو شقة. قبل الزيارة، أريد:",
        'options': [
            {'value': 'a', 'text': 'فيديو عن العقار.'},
            {'value': 'b', 'text': 'التحدث مع المالك.'},
            {'value': 'c', 'text': 'وصف مكتوب للغرف.'},
            {'value': 'd', 'text': 'خطة الأرضية وخريطة.'},
        ]
    },
    {
        'text': "أريد تجميع طاولة خشبية من أجزاء. سأتعلم أفضل من خلال:",
        'options': [
            {'value': 'a', 'text': 'النظر إلى الرسوم البيانية لكل خطوة.'},
            {'value': 'b', 'text': 'طرح الأسئلة على شخص قام بذلك.'},
            {'value': 'c', 'text': 'قراءة التعليمات.'},
            {'value': 'd', 'text': 'مشاهدة فيديو لشخص يقوم بتجميعها.'},
        ]
    },
]

def calculate_vark_scores(answers):
    """
    Calculate VARK scores based on answers
    :param answers: dict of question numbers and their answers
    :return: dict of VARK category counts
    """
    category_counts = {"V": 0, "A": 0, "R": 0, "K": 0}
    
    for q_num, answer_string in answers.items():
        # Split the comma-separated answers
        q_answers = answer_string.split(',')
        q_index = int(q_num[1:]) - 1  # Convert q1 to index 0
        
        # Add scores for each selected answer
        for ans in q_answers:
            category = SCORING_CHART[q_index].get(ans)
            if category:
                category_counts[category] += 1
    
    return category_counts
